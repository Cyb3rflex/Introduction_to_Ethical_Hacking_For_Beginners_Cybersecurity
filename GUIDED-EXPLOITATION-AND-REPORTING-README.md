# ðŸ§ª Guided Exploitation â€” Lab Workbook

This workbook contains hands-on labs that teach **controlled exploitation**, evidence collection, cleanup, and professional reporting. **Run these only in lab/staging environments or systems explicitly authorized in your RoE.**

---

## Lab 1 â€” Preparation & Authorization

**Objective:** demonstrate how to obtain and verify authorization and prepare evidence environment.

### Tasks:

1. Draft a one-page Authorization memo: scope, allowed tests, start/end times, POC.
2. Create an `evidence/` directory with restrictive permissions:

   ```bash
   mkdir -p evidence && chmod 700 evidence
   ```
3. Create a small README inside `evidence/` describing naming conventions and retention.

**Deliverables:** Authorization memo (text), `evidence/` directory with README.

---

## Lab 2 â€” Safe Proof-of-Concept (Information Disclosure)

**Objective:** validate an information disclosure vulnerability non-destructively.

### Environment:** DVWA / Juice Shop / Staging web app

### Tasks:

1. Identify an endpoint that returns sensitive data (lab only).
2. Use `curl` to fetch the resource and save output to `evidence/` with a timestamped filename.
3. Hash the evidence file and add the hash to `evidence/hashes.txt`.

**Commands (example):**

```bash
curl -i 'http://staging.local/secret.txt' -o evidence/secret_$(date -u +"%Y%m%dT%H%M%SZ").txt
sha256sum evidence/secret_*.txt >> evidence/hashes.txt
```

**Deliverables:** Evidence file + hash, short PoC note describing steps taken.

---

## Lab 3 â€” SQL Injection (Read-only Confirmation)

**Objective:** confirm SQL injection via boolean/time-based checks without dumping data.

### Tasks:

1. Craft boolean-based payloads that change the response (e.g., `AND 1=1` vs `AND 1=2`).
2. Capture the differing responses and save them to `evidence/` with timestamps.
3. Write a PoC that explains how the observed responses confirm injection.

**Example (lab-safe):**

```bash
curl -s 'http://dvwa.local/vulnerabilities/sqli/?id=1%27%20AND%201%3D1--' -o evidence/sqli_true_$(date -u +"%Y%m%dT%H%M%SZ").html
curl -s 'http://dvwa.local/vulnerabilities/sqli/?id=1%27%20AND%201%3D2--' -o evidence/sqli_false_$(date -u +"%Y%m%dT%H%M%SZ").html
```

**Deliverables:** Two evidence files showing response differences + PoC notes.

---

## Lab 4 â€” XSS (Reflected) â€” Safe Trigger

**Objective:** demonstrate reflected XSS in a controlled manner.

### Tasks:

1. Send a harmless payload that reflects back in a visible part of the page (e.g., `<svg/onload=1>` or encoded variant).
2. Capture the response HTML and a sanitized screenshot.
3. Document why the page is vulnerable and recommended remediation.

**Deliverables:** Response HTML, screenshot (sanitized), remediation guidance.

---

## Lab 5 â€” Authentication & Access Control (Forced Browsing)

**Objective:** show how restricted resources might be accessed via predictable paths.

### Tasks:

1. Use `ffuf` or `gobuster` with a small wordlist against lab target.
2. Capture HTTP statuses & bodies for discovered paths into `evidence/`.
3. Document which endpoints should be protected and suggested fixes.

**Example:**

```bash
ffuf -u http://staging.local/FUZZ -w /usr/share/wordlists/quick.txt -o evidence/ffuf_$(date -u +"%Y%m%dT%H%M%SZ").json
```

**Deliverables:** Fuzz output, prioritized list of endpoints.

---

## Lab 6 â€” Privilege Escalation (Host) â€” Lab-only

**Objective:** safely demonstrate a local privilege escalation path in a lab VM.

### Tasks:

1. Identify a misconfigured SUID binary or weak sudo configuration in the VM.
2. Run a benign escalation proof (`id` before & after) and capture outputs.
3. Remove any temporary artifacts and document steps to remediate.

**Deliverables:** Command outputs proving escalation and remediation summary.

---

## Lab 7 â€” Post-Exploitation Cleanup & Verification

**Objective:** ensure test artifacts are removed and system state is restored.

### Tasks:

1. Remove files, cronjobs, or accounts you created.
2. Re-scan to confirm no persistence remains.
3. Add cleanup commands and confirmation logs to `evidence/cleanup_log.txt`.

**Deliverables:** Cleanup log and confirmation scans.

---

## Lab 8 â€” Reporting Exercise

**Objective:** produce a concise exploit-focused report entry for a single finding.

### Tasks:

1. Create a report for one lab finding with the following sections:

   * Executive Summary (2â€“3 sentences)
   * Affected Asset(s)
   * PoC (repro steps) â€” non-destructive
   * Evidence (file references + hashes)
   * Impact & Risk
   * Remediation steps
2. Save the report as `reports/finding-<id>.md` and commit to the repository.

**Deliverables:** A well-structured markdown report.

---

## Submission & Grading

* Put each labâ€™s deliverables in its own folder: `/lab1`, `/lab2`, etc.
* Include `evidence/`, `reports/`, and `cleanup_log.txt` in each lab folder.

### Grading Rubric (suggested)

* **Preparation & Authorization (10%)**: Clear RoE & evidence directory.
* **PoC Quality (30%)**: Non-destructive, reproducible, clear evidence.
* **Evidence Handling (20%)**: Proper timestamping, hashing, redaction as needed.
* **Cleanup (20%)**: No leftover artifacts; cleanup logs present.
* **Report (20%)**: Clear, prioritized remediation and professional structure.

---

## Notes & Safety

* These labs are **intentionally conservative**. For real engagements, coordinate with POC for broader validation.
* Never reuse production credentials in lab tests.
* Redact PII before sharing any evidence outside the authorized team.

---

*Prepared as a lab workbook with explicit deliverables and a grading rubric. Adapt assets and wordlists to your environment and RoE.*
